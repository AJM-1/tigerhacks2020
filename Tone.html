<script type="text/javascript" src="https://tonejs.github.io/build/Tone.js"></script>

<button id="test">test</button>
<button id="start">start</button>
<script>
    document.querySelector("#test").addEventListener("click", function () {
        console.log("click");
        const loop = new Tone.Loop((time) => {
            // triggered every eighth note.
            console.log(time);
        }, "8n").start(0);
        Tone.Transport.start();
    });

    document.querySelector('#start')?.addEventListener('click', async () => {
        await Tone.start();
        console.log('audio is ready');
    })
</script>